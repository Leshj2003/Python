# 多任务

## 1.什么是多任务？

现实生活中：有很多的场景中的事情是同时进行的，比如开车的时候 手和脚共同来驾驶汽车，再比如唱歌跳舞也是同时进行的；前面学习基础内容都是单任务的，程序中所谓的多任务是指同时执几个代码！



## 2.多任务与cpu的关系

现在多核CPU已经非常普及了，但是即使过去的单核CPU，也可以执行多任务。

**由于CPU执行代码都是顺序执行的，单核CPU是怎么执行多任务的呢？**

**答案：就是操作系统轮流让各个任务交替执行。** 任务1执行0.01秒，切换到任务2，任务2执行0.01秒，再切换到任务3，执行0.01秒……这样反复执行下去。表面上看，每个任务都是交替执行的，但是，由于CPU的执行速度实在是太快了，我们感觉就像所有任务都在同时执行一样。

真正地并行执行多任务只能在多核CPU上实现，但是，由于任务数量远远多于CPU的核心数量，所以，操作系统也会自动把很多任务轮流调度到每个核心上执行。



## 3.并行和并发的关系

- **并发**：指的是任务数多余cpu核数，通过操作系统的各种任务调度算法，实现用多个任务“一起”执行（实际上总有一些任务不在执行，因为切换任务的速度相当快，看上去一起执行而已）
- **并行**：指的是任务数小于等于cpu核数，即任务真的是一起执行的

 

